"use strict";const allList=document.querySelector(".js-allBeersList");let allListLi=allList.children;const searchBtn=document.querySelector(".js-searchBtn"),searchInput=document.querySelector(".js-searchInput"),triedList=document.querySelector(".js-triedBeersList");let allBeers=[],triedBeers=[];function searchBeer(){getDataServer("https://api.punkapi.com/v2/beers?beer_name="+searchInput.value.toLowerCase())}function getTried(e){const t=e.currentTarget.firstChild;t.classList.add("allBeersList__article--selected");const i=allBeers.find(e=>e.id===parseInt(t.id)),s=triedBeers.findIndex(e=>e.id===parseInt(t.id));-1===s?triedBeers.push(i):(triedBeers.splice(s,1),t.classList.remove("allBeersList__article--selected")),setLS()}function paintTried(){triedList.innerHTML="";for(const e of triedBeers)paintData(e,triedList,"allBeersList__article--selected")}function handleClickTried(e){getTried(e),paintTried()}function getClick(){for(let e=0;e<allListLi.length;e++)allListLi[e].addEventListener("click",handleClickTried)}searchBtn.addEventListener("click",e=>{e.preventDefault(),searchBeer()});const triedBeersLS=JSON.parse(localStorage.getItem("triedBeers"));function setLS(){localStorage.setItem("triedBeers",JSON.stringify(triedBeers))}function paintLS(){if(null!==triedBeersLS||triedBeersLS.length>0){triedBeers=triedBeersLS,triedList.innerHTML="";for(const e of triedBeersLS)paintData(e,triedList,"allBeersList__article--selected")}styleWhenLS()}function styleWhenLS(){const e=allList.childNodes;for(const t of e){const e=t.firstChild;void 0!==triedBeers.find(t=>t.id===parseInt(e.id))&&e.classList.add("allBeersList__article--selected")}}function getDataServer(e){fetch(e).then(e=>e.json()).then(e=>{allBeers=e,allList.innerHTML="";for(const e of allBeers)paintData(e,allList,"allBeersList__article");getClick(),styleWhenLS()})}function paintData(e,t,i){const s=document.createElement("li"),r=document.createElement("article");r.classList.add(i),r.setAttribute("id",""+e.id);const n=document.createElement("img");""+e.image_url!="null"?n.src=""+e.image_url:n.src="https://images.punkapi.com/v2/keg.png",n.alt=""+e.name,n.style.height="80px",r.appendChild(n);const a=document.createElement("h2"),l=document.createTextNode(""+e.name);a.classList.add("beers__name"),a.appendChild(l),r.appendChild(a);const c=document.createElement("p"),d=document.createTextNode(""+e.tagline);c.classList.add("beers__tagline"),c.appendChild(d),r.appendChild(c),s.appendChild(r),t.appendChild(s)}paintLS(),getDataServer("https://api.punkapi.com/v2/beers");